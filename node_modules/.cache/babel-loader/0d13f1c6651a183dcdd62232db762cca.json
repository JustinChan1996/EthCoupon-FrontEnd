{"ast":null,"code":"export function hello() {\n  alert('hello');\n}\nexport function getPromotionOrigin(contractInstance, account) {\n  return new Promise(function (resolve, reject) {\n    var codeArray = [];\n    contractInstance.getPastEvents('PromotionOrigin', {\n      filter: {\n        sponsorAddress: account\n      },\n      // Using an array means OR: e.g. 20 or 23\n      fromBlock: 0,\n      toBlock: 'latest'\n    }, function (error, events) {\n      console.log(events);\n\n      if (events.length > 0) {\n        // console.log(events[0].returnValues); \n        for (var i = 0; i < events.length; i++) {\n          codeArray.push([events[i].returnValues.couponCode, events[i].returnValues.sponsorAddress, events[i].returnValues.date]);\n        }\n\n        resolve(codeArray);\n      }\n    }).then(function (events) {});\n  });\n}\nexport function getPromotion(contractInstance, account, code) {\n  return new Promise(function (resolve, reject) {\n    var codeArray = [];\n    contractInstance.getPastEvents('Promotion', {\n      filter: {\n        couponCode: code\n      },\n      // Using an array means OR: e.g. 20 or 23\n      fromBlock: 0,\n      toBlock: 'latest'\n    }, function (error, events) {\n      console.log(events);\n\n      if (events.length > 0) {\n        // console.log(events[0].returnValues); \n        codeArray.push(events[0].returnValues.couponCode, events[0].returnValues.amtPerAddress, events[0].returnValues.targetAddress);\n        resolve(codeArray);\n      }\n    }).then(function (events) {});\n  });\n}\nexport function getPromotionDate(contractInstance, account, code) {\n  return new Promise(function (resolve, reject) {\n    var codeArray = [];\n    contractInstance.getPastEvents('PromotionDate', {\n      filter: {\n        couponCode: code\n      },\n      // Using an array means OR: e.g. 20 or 23\n      fromBlock: 0,\n      toBlock: 'latest'\n    }, function (error, events) {\n      console.log(events);\n\n      if (events.length > 0) {\n        // console.log(events[0].returnValues); \n        codeArray.push(events[0].returnValues.couponCode, events[0].returnValues.startDate, events[0].returnValues.endDate);\n        resolve(codeArray);\n      }\n    }).then(function (events) {});\n  });\n}\nexport function getPromotionLimit(contractInstance, account, code) {\n  return new Promise(function (resolve, reject) {\n    var codeArray = [];\n    contractInstance.getPastEvents('PromotionLimit', {\n      filter: {\n        couponCode: code\n      },\n      // Using an array means OR: e.g. 20 or 23\n      fromBlock: 0,\n      toBlock: 'latest'\n    }, function (error, events) {\n      console.log(events);\n\n      if (events.length > 0) {\n        // console.log(events[0].returnValues); \n        codeArray.push(events[0].returnValues.couponCode, events[0].returnValues.minRedeemAmt, events[0].returnValues.maxRedeemAmt);\n        resolve(codeArray);\n      }\n    }).then(function (events) {});\n  });\n}\nexport function getRedeem(contractInstance, account, code) {\n  return new Promise(function (resolve, reject) {\n    var codeArray = [];\n    contractInstance.getPastEvents('Redeem', {\n      filter: {\n        couponCode: code,\n        user: account\n      },\n      // Using an array means OR: e.g. 20 or 23\n      fromBlock: 0,\n      toBlock: 'latest'\n    }, function (error, events) {\n      console.log(events);\n\n      if (events.length > 0) {\n        // console.log(events[0].returnValues); \n        codeArray.push(events[0].returnValues.couponCode, events[0].returnValues.user, events[0].returnValues.RedeemID);\n        resolve(codeArray);\n      }\n    }).then(function (events) {});\n  });\n}\nexport function getRedeemDate(contractInstance, account, code) {\n  return new Promise(function (resolve, reject) {\n    var codeArray = [];\n    contractInstance.getPastEvents('RedeemDate', {\n      filter: {\n        RedeemID: code\n      },\n      // Using an array means OR: e.g. 20 or 23\n      fromBlock: 0,\n      toBlock: 'latest'\n    }, function (error, events) {\n      console.log(events);\n\n      if (events.length > 0) {\n        // console.log(events[0].returnValues); \n        codeArray.push(events[0].returnValues.RedeemID, events[0].returnValues.date);\n        resolve(codeArray);\n      }\n    }).then(function (events) {});\n  });\n}","map":{"version":3,"sources":["/Volumes/Data/BlockchainCourse/FrontEnd/ethcoupon-finalproject-react/src/helper.js"],"names":["hello","alert","getPromotionOrigin","contractInstance","account","Promise","resolve","reject","codeArray","getPastEvents","filter","sponsorAddress","fromBlock","toBlock","error","events","console","log","length","i","push","returnValues","couponCode","date","then","getPromotion","code","amtPerAddress","targetAddress","getPromotionDate","startDate","endDate","getPromotionLimit","minRedeemAmt","maxRedeemAmt","getRedeem","user","RedeemID","getRedeemDate"],"mappings":"AAAA,OAAO,SAASA,KAAT,GAAgB;AACnBC,EAAAA,KAAK,CAAC,OAAD,CAAL;AACH;AAED,OAAO,SAASC,kBAAT,CAA4BC,gBAA5B,EAA6CC,OAA7C,EAAqD;AACxD,SAAO,IAAIC,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,QAAIC,SAAS,GAAG,EAAhB;AACAL,IAAAA,gBAAgB,CAACM,aAAjB,CAA+B,iBAA/B,EAAkD;AAC9CC,MAAAA,MAAM,EAAE;AAACC,QAAAA,cAAc,EAACP;AAAhB,OADsC;AACZ;AAClCQ,MAAAA,SAAS,EAAE,CAFmC;AAG9CC,MAAAA,OAAO,EAAE;AAHqC,KAAlD,EAIG,UAASC,KAAT,EAAgBC,MAAhB,EAAuB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAGA,MAAM,CAACG,MAAP,GAAgB,CAAnB,EAAqB;AACnB;AACA,aAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,MAAM,CAACG,MAArB,EAA4BC,CAAC,EAA7B,EAAgC;AAC9BX,UAAAA,SAAS,CAACY,IAAV,CAAe,CAACL,MAAM,CAACI,CAAD,CAAN,CAAUE,YAAV,CAAuBC,UAAxB,EAAmCP,MAAM,CAACI,CAAD,CAAN,CAAUE,YAAV,CAAuBV,cAA1D,EAAyEI,MAAM,CAACI,CAAD,CAAN,CAAUE,YAAV,CAAuBE,IAAhG,CAAf;AACD;;AACDjB,QAAAA,OAAO,CAACE,SAAD,CAAP;AACD;AACA,KAbH,EAcCgB,IAdD,CAcM,UAAST,MAAT,EAAgB,CACrB,CAfD;AAgBH,GAlBM,CAAP;AAmBH;AAED,OAAO,SAASU,YAAT,CAAsBtB,gBAAtB,EAAuCC,OAAvC,EAA+CsB,IAA/C,EAAoD;AACvD,SAAO,IAAIrB,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,QAAIC,SAAS,GAAG,EAAhB;AACAL,IAAAA,gBAAgB,CAACM,aAAjB,CAA+B,WAA/B,EAA4C;AACxCC,MAAAA,MAAM,EAAE;AAACY,QAAAA,UAAU,EAACI;AAAZ,OADgC;AACb;AAC3Bd,MAAAA,SAAS,EAAE,CAF6B;AAGxCC,MAAAA,OAAO,EAAE;AAH+B,KAA5C,EAIG,UAASC,KAAT,EAAgBC,MAAhB,EAAuB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAGA,MAAM,CAACG,MAAP,GAAgB,CAAnB,EAAqB;AACnB;AACAV,QAAAA,SAAS,CAACY,IAAV,CAAeL,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBC,UAAtC,EAAiDP,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBM,aAAxE,EAAsFZ,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBO,aAA7G;AACAtB,QAAAA,OAAO,CAACE,SAAD,CAAP;AACD;AACA,KAXH,EAYCgB,IAZD,CAYM,UAAST,MAAT,EAAgB,CACrB,CAbD;AAcH,GAhBM,CAAP;AAiBH;AAGD,OAAO,SAASc,gBAAT,CAA0B1B,gBAA1B,EAA2CC,OAA3C,EAAmDsB,IAAnD,EAAwD;AAC3D,SAAO,IAAIrB,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,QAAIC,SAAS,GAAG,EAAhB;AACAL,IAAAA,gBAAgB,CAACM,aAAjB,CAA+B,eAA/B,EAAgD;AAC5CC,MAAAA,MAAM,EAAE;AAACY,QAAAA,UAAU,EAACI;AAAZ,OADoC;AACjB;AAC3Bd,MAAAA,SAAS,EAAE,CAFiC;AAG5CC,MAAAA,OAAO,EAAE;AAHmC,KAAhD,EAIG,UAASC,KAAT,EAAgBC,MAAhB,EAAuB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAGA,MAAM,CAACG,MAAP,GAAgB,CAAnB,EAAqB;AACnB;AACAV,QAAAA,SAAS,CAACY,IAAV,CAAeL,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBC,UAAtC,EAAiDP,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBS,SAAxE,EAAkFf,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBU,OAAzG;AACAzB,QAAAA,OAAO,CAACE,SAAD,CAAP;AACD;AACA,KAXH,EAYCgB,IAZD,CAYM,UAAST,MAAT,EAAgB,CACrB,CAbD;AAcH,GAhBM,CAAP;AAiBH;AAED,OAAO,SAASiB,iBAAT,CAA2B7B,gBAA3B,EAA4CC,OAA5C,EAAoDsB,IAApD,EAAyD;AAC5D,SAAO,IAAIrB,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,QAAIC,SAAS,GAAG,EAAhB;AACAL,IAAAA,gBAAgB,CAACM,aAAjB,CAA+B,gBAA/B,EAAiD;AAC7CC,MAAAA,MAAM,EAAE;AAACY,QAAAA,UAAU,EAACI;AAAZ,OADqC;AAClB;AAC3Bd,MAAAA,SAAS,EAAE,CAFkC;AAG7CC,MAAAA,OAAO,EAAE;AAHoC,KAAjD,EAIG,UAASC,KAAT,EAAgBC,MAAhB,EAAuB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAGA,MAAM,CAACG,MAAP,GAAgB,CAAnB,EAAqB;AACnB;AACAV,QAAAA,SAAS,CAACY,IAAV,CAAeL,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBC,UAAtC,EAAiDP,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBY,YAAxE,EAAqFlB,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBa,YAA5G;AACA5B,QAAAA,OAAO,CAACE,SAAD,CAAP;AACD;AACA,KAXH,EAYCgB,IAZD,CAYM,UAAST,MAAT,EAAgB,CACrB,CAbD;AAcH,GAhBM,CAAP;AAiBH;AAED,OAAO,SAASoB,SAAT,CAAmBhC,gBAAnB,EAAoCC,OAApC,EAA4CsB,IAA5C,EAAiD;AACpD,SAAO,IAAIrB,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,QAAIC,SAAS,GAAG,EAAhB;AACAL,IAAAA,gBAAgB,CAACM,aAAjB,CAA+B,QAA/B,EAAyC;AACrCC,MAAAA,MAAM,EAAE;AAACY,QAAAA,UAAU,EAACI,IAAZ;AAAiBU,QAAAA,IAAI,EAAChC;AAAtB,OAD6B;AACG;AACxCQ,MAAAA,SAAS,EAAE,CAF0B;AAGrCC,MAAAA,OAAO,EAAE;AAH4B,KAAzC,EAIG,UAASC,KAAT,EAAgBC,MAAhB,EAAuB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAGA,MAAM,CAACG,MAAP,GAAgB,CAAnB,EAAqB;AACnB;AACAV,QAAAA,SAAS,CAACY,IAAV,CAAeL,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBC,UAAtC,EAAiDP,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBe,IAAxE,EAA6ErB,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBgB,QAApG;AACA/B,QAAAA,OAAO,CAACE,SAAD,CAAP;AACD;AACA,KAXH,EAYCgB,IAZD,CAYM,UAAST,MAAT,EAAgB,CACrB,CAbD;AAcH,GAhBM,CAAP;AAiBH;AAED,OAAO,SAASuB,aAAT,CAAuBnC,gBAAvB,EAAwCC,OAAxC,EAAgDsB,IAAhD,EAAqD;AACxD,SAAO,IAAIrB,OAAJ,CAAY,UAASC,OAAT,EAAkBC,MAAlB,EAA0B;AACzC,QAAIC,SAAS,GAAG,EAAhB;AACAL,IAAAA,gBAAgB,CAACM,aAAjB,CAA+B,YAA/B,EAA6C;AACzCC,MAAAA,MAAM,EAAE;AAAC2B,QAAAA,QAAQ,EAACX;AAAV,OADiC;AAChB;AACzBd,MAAAA,SAAS,EAAE,CAF8B;AAGzCC,MAAAA,OAAO,EAAE;AAHgC,KAA7C,EAIG,UAASC,KAAT,EAAgBC,MAAhB,EAAuB;AACxBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACA,UAAGA,MAAM,CAACG,MAAP,GAAgB,CAAnB,EAAqB;AACnB;AACAV,QAAAA,SAAS,CAACY,IAAV,CAAeL,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBgB,QAAtC,EAA+CtB,MAAM,CAAC,CAAD,CAAN,CAAUM,YAAV,CAAuBE,IAAtE;AACAjB,QAAAA,OAAO,CAACE,SAAD,CAAP;AACD;AACA,KAXH,EAYCgB,IAZD,CAYM,UAAST,MAAT,EAAgB,CACrB,CAbD;AAcH,GAhBM,CAAP;AAiBH","sourcesContent":["export function hello(){\n    alert('hello');\n}\n\nexport function getPromotionOrigin(contractInstance,account){\n    return new Promise(function(resolve, reject) {\n        var codeArray = [];\n        contractInstance.getPastEvents('PromotionOrigin', {\n            filter: {sponsorAddress:account}, // Using an array means OR: e.g. 20 or 23\n            fromBlock: 0,\n            toBlock: 'latest'\n        }, function(error, events){\n          console.log(events);\n          if(events.length > 0){\n            // console.log(events[0].returnValues); \n            for(var i=0;i<events.length;i++){\n              codeArray.push([events[i].returnValues.couponCode,events[i].returnValues.sponsorAddress,events[i].returnValues.date]);\n            }\n            resolve(codeArray);            \n          }\n          })\n        .then(function(events){\n        });\n    });\n}\n\nexport function getPromotion(contractInstance,account,code){\n    return new Promise(function(resolve, reject) {\n        var codeArray = [];\n        contractInstance.getPastEvents('Promotion', {\n            filter: {couponCode:code}, // Using an array means OR: e.g. 20 or 23\n            fromBlock: 0,\n            toBlock: 'latest'\n        }, function(error, events){\n          console.log(events);\n          if(events.length > 0){\n            // console.log(events[0].returnValues); \n            codeArray.push(events[0].returnValues.couponCode,events[0].returnValues.amtPerAddress,events[0].returnValues.targetAddress);\n            resolve(codeArray);            \n          }\n          })\n        .then(function(events){\n        });\n    });\n}\n\n\nexport function getPromotionDate(contractInstance,account,code){\n    return new Promise(function(resolve, reject) {\n        var codeArray = [];\n        contractInstance.getPastEvents('PromotionDate', {\n            filter: {couponCode:code}, // Using an array means OR: e.g. 20 or 23\n            fromBlock: 0,\n            toBlock: 'latest'\n        }, function(error, events){\n          console.log(events);\n          if(events.length > 0){\n            // console.log(events[0].returnValues); \n            codeArray.push(events[0].returnValues.couponCode,events[0].returnValues.startDate,events[0].returnValues.endDate);\n            resolve(codeArray);            \n          }\n          })\n        .then(function(events){\n        });\n    });\n}\n\nexport function getPromotionLimit(contractInstance,account,code){\n    return new Promise(function(resolve, reject) {\n        var codeArray = [];\n        contractInstance.getPastEvents('PromotionLimit', {\n            filter: {couponCode:code}, // Using an array means OR: e.g. 20 or 23\n            fromBlock: 0,\n            toBlock: 'latest'\n        }, function(error, events){\n          console.log(events);\n          if(events.length > 0){\n            // console.log(events[0].returnValues); \n            codeArray.push(events[0].returnValues.couponCode,events[0].returnValues.minRedeemAmt,events[0].returnValues.maxRedeemAmt);\n            resolve(codeArray);            \n          }\n          })\n        .then(function(events){\n        });\n    });\n}\n\nexport function getRedeem(contractInstance,account,code){\n    return new Promise(function(resolve, reject) {\n        var codeArray = [];\n        contractInstance.getPastEvents('Redeem', {\n            filter: {couponCode:code,user:account}, // Using an array means OR: e.g. 20 or 23\n            fromBlock: 0,\n            toBlock: 'latest'\n        }, function(error, events){\n          console.log(events);\n          if(events.length > 0){\n            // console.log(events[0].returnValues); \n            codeArray.push(events[0].returnValues.couponCode,events[0].returnValues.user,events[0].returnValues.RedeemID);\n            resolve(codeArray);            \n          }\n          })\n        .then(function(events){\n        });\n    });\n}\n\nexport function getRedeemDate(contractInstance,account,code){\n    return new Promise(function(resolve, reject) {\n        var codeArray = [];\n        contractInstance.getPastEvents('RedeemDate', {\n            filter: {RedeemID:code}, // Using an array means OR: e.g. 20 or 23\n            fromBlock: 0,\n            toBlock: 'latest'\n        }, function(error, events){\n          console.log(events);\n          if(events.length > 0){\n            // console.log(events[0].returnValues); \n            codeArray.push(events[0].returnValues.RedeemID,events[0].returnValues.date);\n            resolve(codeArray);            \n          }\n          })\n        .then(function(events){\n        });\n    });\n}"]},"metadata":{},"sourceType":"module"}