{"ast":null,"code":"var _jsxFileName = \"/Volumes/Data/BlockchainCourse/FrontEnd/ethcoupon-finalproject-react/src/App.js\";\nimport React, { Component } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\nimport Web3 from 'web3';\nimport { ADDRESS, ABI } from './ABI';\nimport { Modal, Button } from \"react-bootstrap\";\nimport Table1 from './table';\nimport { BrowserRouter as Router, Switch, Route, Link, Outlet, Routes } from \"react-router-dom\";\nimport MyCoupon from \"./myCoupon\";\nimport { hello, getPromotion } from './helper';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    this.loadBlockchainData();\n    this.Connect = this.Connect.bind(this);\n  }\n\n  async Connect() {\n    if (window.ethereum) {\n      // alert('installed');\n      const address = await window.ethereum.enable(); // alert(address);\n\n      var outputText = '<b>Current Account:</b> ' + address + '   ';\n      var that = this;\n      const web3 = new Web3(Web3.givenProvider); // Get account balance\n\n      web3.eth.getBalance(address.toString(), function (err, result) {\n        if (err) {\n          console.log(err);\n        } else {\n          var currentBalance = Web3.utils.fromWei(result, \"ether\") + \" <b>ETH</b>\"; // console.log(currentBalance);\n\n          outputText = outputText + \" \" + currentBalance;\n          console.log(outputText);\n          that.setState({\n            accountInfo: outputText\n          });\n          const btn_connectWallet = document.getElementById('btn_connectWallet');\n          btn_connectWallet.style.display = 'none';\n        }\n      });\n      console.log(outputText);\n      this.setState({\n        accountInfo: outputText\n      });\n    } else {\n      alert('Metamask not installed');\n    }\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider);\n    const chainId = await web3.eth.getChainId();\n    console.log(chainId);\n    this.setState({\n      accountInfo: ''\n    });\n    var contractInstance = new web3.eth.Contract(ABI, ADDRESS);\n    const accounts = await web3.eth.getAccounts(); // await GetAllPromoCodes(contractInstance);\n\n    var that = this;\n    var codeArray = [];\n    var promoOrigin = [];\n    var promo = [];\n    var promoDate = [];\n    var PromotionLimit = [];\n    promo = await getPromotion(contractInstance, accounts[0]);\n    console.log(promo);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      accountInfo: ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"p-5 bg-primary text-white text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"EthCoupon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 3\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Get free Ether to spend on products and services\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 3\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Router, {\n        children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n          class: \"navbar navbar-expand-sm bg-dark navbar-dark\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"container-fluid\",\n            children: [/*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"navbar-nav me-auto\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/\",\n                  class: \"nav-link active\",\n                  children: \"My Promotions\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 100,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"nav-item\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/myCoupon\",\n                  class: \"nav-link active\",\n                  children: \"My Coupons\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 11\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              class: \"navbar-nav\",\n              children: /*#__PURE__*/_jsxDEV(\"li\", {\n                class: \"nav-item\",\n                style: {\n                  color: '#fff'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"lblAcctInfo\",\n                  style: {\n                    display: 'inline'\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    style: {\n                      display: 'inline'\n                    },\n                    dangerouslySetInnerHTML: {\n                      __html: this.state.accountInfo\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 111,\n                    columnNumber: 58\n                  }, this), \"\\xA0\\xA0\\xA0\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 8\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  class: \"btn btn-primary\",\n                  id: \"btn_connectWallet\",\n                  onClick: this.Connect,\n                  children: \"Connect Wallet\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 8\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 5\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 1\n        }, this), /*#__PURE__*/_jsxDEV(Routes, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            path: \"/\",\n            element: /*#__PURE__*/_jsxDEV(Home, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 32\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/myCoupon\",\n            element: /*#__PURE__*/_jsxDEV(MyCoupon, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 5\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nclass Home extends React.Component {\n  componentDidMount() {\n    this.loadBlockchainData();\n    this.CreateNewPromotion = this.CreateNewPromotion.bind(this);\n    this.toStorePromoCode = this.toStorePromoCode.bind(this);\n    this.toStoreAccount = this.toStoreAccount.bind(this);\n    this.toStoreEther = this.toStoreEther.bind(this);\n    this.toStoreStartDate = this.toStoreStartDate.bind(this);\n    this.toStoreEndDate = this.toStoreEndDate.bind(this);\n    this.toStoreMinSpendingAmt = this.toStoreMinSpendingAmt.bind(this);\n    this.toStoreMaxSpendingAmt = this.toStoreMaxSpendingAmt.bind(this);\n    this.toStoreAmount = this.toStoreAmount.bind(this);\n  }\n\n  toStorePromoCode(event) {\n    this.setState({\n      promoCode: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreAccount(event) {\n    this.setState({\n      account: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreEther(event) {\n    this.setState({\n      ether: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreAmount(event) {\n    this.setState({\n      amount: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreStartDate(event) {\n    this.setState({\n      startDate: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreEndDate(event) {\n    this.setState({\n      endDate: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreMinSpendingAmt(event) {\n    this.setState({\n      minSpendingAmt: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  toStoreMaxSpendingAmt(event) {\n    this.setState({\n      maxSpendingAmt: event.target.value\n    });\n    console.log(event.target.value);\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider);\n    const chainId = await web3.eth.getChainId();\n    console.log(chainId);\n    this.setState({\n      accountInfo: ''\n    });\n    var contractInstance = new web3.eth.Contract(ABI, ADDRESS);\n    const accounts = await web3.eth.getAccounts(); // await GetAllPromoCodes(contractInstance);\n\n    var that = this;\n    var codeArray = [];\n    var promoOrigin = [];\n    var promo = [];\n    var promoDate = [];\n    var PromotionLimit = [];\n    promo = await getPromotion(contractInstance, accounts[0]);\n    console.log(promo);\n    let itemList = promo.slice();\n    console.log(itemList); // this.setState({testData: itemList});\n  }\n\n  async CreateNewPromotion() {\n    // const web3 = new Web3(Web3.givenProvider);\n    // const chainId = await web3.eth.getChainId();\n    // alert(chainId);\n    const web3 = new Web3(Web3.givenProvider); // const address = await window.ethereum.enable();\n\n    const accounts = await web3.eth.getAccounts();\n    var contractInstance = new web3.eth.Contract(ABI, ADDRESS); // var etherAmount = web3.utils.toBN(this.state.ether);\n\n    var weiValue = web3.utils.toWei(this.state.ether.toString(), 'ether'); // var depositAmount = web3.utils.toBN(this.state.amount);\n\n    var depositValue = web3.utils.toWei(this.state.amount, 'ether'); // var minSpendingAmt = web3.utils.toBN(this.state.minSpendingAmt);\n\n    var minSpendingValue = web3.utils.toWei(this.state.minSpendingAmt, 'ether'); // var maxSpendingAmt = web3.utils.toBN(this.state.maxSpendingAmt);\n\n    var maxSpendingValue = web3.utils.toWei(this.state.maxSpendingAmt, 'ether');\n    const startDate = Math.round(new Date(this.state.startDate.toString()).getTime() / 1000);\n    const endDate = Math.round(new Date(this.state.endDate.toString()).getTime() / 1000); // console.log(address);\n\n    console.log(accounts[0]);\n    var that = this;\n    contractInstance.methods.mint(this.state.promoCode, weiValue, this.state.account, startDate, endDate, minSpendingValue, maxSpendingValue).send({\n      from: accounts[0],\n      value: depositValue\n    }).on(\"transactionHash\", function (hash) {\n      alert('Promotion add success');\n      that.close();\n    }).on(\"error\", function (error) {\n      alert(error);\n    });\n  }\n\n  open() {\n    this.setState({\n      showModal: true\n    });\n  }\n\n  close() {\n    this.setState({\n      showModal: false\n    });\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      promoCode: '',\n      account: '',\n      ether: '',\n      startDate: '',\n      endDate: '',\n      minSpendingAmt: '',\n      maxSpendingAmt: '',\n      amount: ''\n    };\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"container mt-5\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"row\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              textAlign: 'right'\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-success\",\n              onClick: this.open,\n              children: \"Add New Promotion\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n            children: \"List of Promotions sponsored\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n            class: \"table table-striped\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Promotion Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 281,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Date Created\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Target account\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Starting Ether Balance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 284,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Present Ether Balance\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Starting Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ending Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Ether per account\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Min Coupon Txn Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Max Coupon Txn Amount\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 290,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-credit-card\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 295,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 295,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Ethereum\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 296,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"01/12/2021\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 297,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0x28cd15e5B23a8bA95Bb4660c3d305Fb18081c517\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"100\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"15/01/2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"20/01/2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-credit-card\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 308,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Doge\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"01/12/2021\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0x28cd15e5B23a8bA95Bb4660c3d305Fb18081c511\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 312,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"100\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"15/01/2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"20/01/2022\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 317,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fa fa-window-close-o\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 321,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 321,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"DogeElonMars\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 322,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"01/11/2021\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0x28cd15e5B23a8bA95Bb4660c3d305Fb18081c510\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 325,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"10/11/2021\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"15/11/2021\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0.1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"0.5\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 268,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Table1, {\n        testData: this.state.testData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        className: \"myModal1\",\n        show: this.state.showModal,\n        onHide: this.close,\n        animation: true,\n        bsSize: \"small\",\n        children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n          closeButton: true,\n          children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n            children: \"Modal title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                style: {\n                  width: '200px'\n                },\n                children: \"Promotion code:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  name: \"txtPromoCode\",\n                  value: this.state.promoCode,\n                  onChange: this.toStorePromoCode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 353,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Target Account:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 356,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  name: \"txtAccount\",\n                  value: this.state.account,\n                  onChange: this.toStoreAccount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 357,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 355,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Ether Deposited:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  name: \"txtEtherDeposited\",\n                  value: this.state.amount,\n                  onChange: this.toStoreAmount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 361,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Ether per account:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  name: \"txtEtherPerAccount\",\n                  value: this.state.ether,\n                  onChange: this.toStoreEther\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 365,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Starting Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 368,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  class: \"form-control\",\n                  name: \"txtStartingDate\",\n                  value: this.state.startDate,\n                  onChange: this.toStoreStartDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Ending Date:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"datetime-local\",\n                  class: \"form-control\",\n                  name: \"txtEndingDate\",\n                  value: this.state.endDate,\n                  onChange: this.toStoreEndDate\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 373,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Min Spending Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  name: \"txtMinSpendingAmount\",\n                  value: this.state.minSpendingAmt,\n                  onChange: this.toStoreMinSpendingAmt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n              style: {\n                height: '45px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: \"Max Spending Amount:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  class: \"form-control\",\n                  name: \"txtMaxSpendingAmount\",\n                  value: this.state.maxSpendingAmt,\n                  onChange: this.toStoreMaxSpendingAmt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 381,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-success\",\n            onClick: this.CreateNewPromotion,\n            id: \"btn_CreateNewPromotion\",\n            children: \"Add New Promotion\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 387,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            class: \"btn btn-danger\",\n            onClick: this.close,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Volumes/Data/BlockchainCourse/FrontEnd/ethcoupon-finalproject-react/src/App.js"],"names":["React","Component","Web3","ADDRESS","ABI","Modal","Button","Table1","BrowserRouter","Router","Switch","Route","Link","Outlet","Routes","MyCoupon","hello","getPromotion","App","componentDidMount","loadBlockchainData","Connect","bind","window","ethereum","address","enable","outputText","that","web3","givenProvider","eth","getBalance","toString","err","result","console","log","currentBalance","utils","fromWei","setState","accountInfo","btn_connectWallet","document","getElementById","style","display","alert","chainId","getChainId","contractInstance","Contract","accounts","getAccounts","codeArray","promoOrigin","promo","promoDate","PromotionLimit","constructor","props","state","render","color","__html","Home","CreateNewPromotion","toStorePromoCode","toStoreAccount","toStoreEther","toStoreStartDate","toStoreEndDate","toStoreMinSpendingAmt","toStoreMaxSpendingAmt","toStoreAmount","event","promoCode","target","value","account","ether","amount","startDate","endDate","minSpendingAmt","maxSpendingAmt","itemList","slice","weiValue","toWei","depositValue","minSpendingValue","maxSpendingValue","Math","round","Date","getTime","methods","mint","send","from","on","hash","close","error","open","showModal","textAlign","testData","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport logo from './logo.svg'\nimport './App.css'\nimport Web3 from 'web3'\nimport {ADDRESS, ABI} from './ABI'\nimport { Modal, Button } from \"react-bootstrap\";\nimport Table1 from './table';\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  Outlet,\n  Routes\n} from \"react-router-dom\";\nimport MyCoupon from \"./myCoupon\";\nimport {hello,getPromotion} from './helper';\n\nclass App extends React.Component  {\n\n  componentDidMount() {\n    this.loadBlockchainData();\n    this.Connect = this.Connect.bind(this);\n  }\n\n  async Connect(){\n    if (window.ethereum) {\n      // alert('installed');\n      const address = await window.ethereum.enable(); \n      // alert(address);\n      var outputText = '<b>Current Account:</b> ' + address + '   ';\n      var that = this;\n\n      const web3 = new Web3(Web3.givenProvider);\n      // Get account balance\n      web3.eth.getBalance(address.toString(), function(err, result) {\n      if (err) {\n        console.log(err)\n      } else {\n        var currentBalance = (Web3.utils.fromWei(result, \"ether\") + \" <b>ETH</b>\");\n        // console.log(currentBalance);\n        outputText = outputText + \" \" + currentBalance;\n        console.log(outputText);\n        that.setState({accountInfo: outputText});\n        const btn_connectWallet = document.getElementById('btn_connectWallet');\n        btn_connectWallet.style.display = 'none';\n      }\n    })\n\n    console.log(outputText);\n    this.setState({accountInfo: outputText});\n    }\n    else{\n      alert('Metamask not installed');\n    }\n  }\n\n\n\n  async loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider);\n    const chainId = await web3.eth.getChainId();\n    console.log(chainId);\n    this.setState({accountInfo: ''});\n    var contractInstance = new web3.eth.Contract(ABI, ADDRESS);\n    const accounts = await web3.eth.getAccounts();\n    // await GetAllPromoCodes(contractInstance);\n\n    var that = this;\n    var codeArray = [];\n    var promoOrigin = [];\n    var promo = [];\n    var promoDate = [];\n    var PromotionLimit = [];\n\n    promo = await getPromotion(contractInstance,accounts[0]);\n    console.log(promo);\n\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {accountInfo: ''};\n  }\n\nrender(){\n  return(\n\n    <div class=\"container\">\n    <div class=\"p-5 bg-primary text-white text-center\">\n  <h1>EthCoupon</h1>\n  <p>Get free Ether to spend on products and services</p> \n</div>\n\n<Router>\n<nav class=\"navbar navbar-expand-sm bg-dark navbar-dark\">\n  <div class=\"container-fluid\">\n    <ul class=\"navbar-nav me-auto\">\n        <li class=\"nav-item\">\n          {/* <a class=\"nav-link active\" href=\"index.html\">My Promotions</a> */}\n          <Link to=\"/\" class=\"nav-link active\" >My Promotions</Link>\n        </li>\n        <li class=\"nav-item\">\n          {/* <a class=\"nav-link\" href=\"myCoupons.html\">My coupons</a> */}\n          <Link to=\"/myCoupon\" class=\"nav-link active\" >My Coupons</Link>\n        </li>\n    </ul>\n    <ul class=\"navbar-nav\">\n      <li class=\"nav-item\" style={{color: '#fff'}}>\n       <div id=\"lblAcctInfo\" style={{display: 'inline'}}><div style={{display: 'inline'}} dangerouslySetInnerHTML={{__html: this.state.accountInfo}}></div>&nbsp;&nbsp;&nbsp;</div>\n       <button type=\"button\" class=\"btn btn-primary\" id=\"btn_connectWallet\" onClick={this.Connect}>Connect Wallet</button>\n     </li>\n   </ul>\n  </div>\n</nav>\n\n    <Routes>\n      <Route path=\"/\" element={<Home />} />\n      <Route path=\"/myCoupon\" element={<MyCoupon />} />\n    </Routes>\n\n</Router>\n\n</div>\n\n\n  );\n}\n}\n\nclass Home extends React.Component  {\n\n\n\n  componentDidMount() {\n    this.loadBlockchainData();\n    this.CreateNewPromotion = this.CreateNewPromotion.bind(this);\n    this.toStorePromoCode = this.toStorePromoCode.bind(this);\n    this.toStoreAccount = this.toStoreAccount.bind(this);\n    this.toStoreEther = this.toStoreEther.bind(this);\n    this.toStoreStartDate = this.toStoreStartDate.bind(this);\n    this.toStoreEndDate = this.toStoreEndDate.bind(this);\n    this.toStoreMinSpendingAmt = this.toStoreMinSpendingAmt.bind(this);\n    this.toStoreMaxSpendingAmt = this.toStoreMaxSpendingAmt.bind(this);\n    this.toStoreAmount = this.toStoreAmount.bind(this);\n  }\n\n  toStorePromoCode(event){\n    this.setState({promoCode: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreAccount(event){\n    this.setState({account: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreEther(event){\n    this.setState({ether: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreAmount(event){\n    this.setState({amount: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreStartDate(event){\n    this.setState({startDate: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreEndDate(event){\n    this.setState({endDate: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreMinSpendingAmt(event){\n    this.setState({minSpendingAmt: event.target.value});\n    console.log(event.target.value);\n  }\n\n  toStoreMaxSpendingAmt(event){\n    this.setState({maxSpendingAmt: event.target.value});\n    console.log(event.target.value);\n  }\n\n\n  async loadBlockchainData() {\n    const web3 = new Web3(Web3.givenProvider);\n    const chainId = await web3.eth.getChainId();\n    console.log(chainId);\n    this.setState({accountInfo: ''});\n    var contractInstance = new web3.eth.Contract(ABI, ADDRESS);\n    const accounts = await web3.eth.getAccounts();\n    // await GetAllPromoCodes(contractInstance);\n\n    var that = this;\n    var codeArray = [];\n    var promoOrigin = [];\n    var promo = [];\n    var promoDate = [];\n    var PromotionLimit = [];\n\n    promo = await getPromotion(contractInstance,accounts[0]);\n    console.log(promo);\n    let itemList = promo.slice();\n    console.log(itemList);\n    // this.setState({testData: itemList});\n\n  }\n\n  async CreateNewPromotion(){\n    // const web3 = new Web3(Web3.givenProvider);\n    // const chainId = await web3.eth.getChainId();\n    // alert(chainId);\n    const web3 = new Web3(Web3.givenProvider);\n    // const address = await window.ethereum.enable();\n    const accounts = await web3.eth.getAccounts();\n    var contractInstance = new web3.eth.Contract(ABI, ADDRESS);\n    // var etherAmount = web3.utils.toBN(this.state.ether);\n    var weiValue = web3.utils.toWei(this.state.ether.toString(),'ether');\n    // var depositAmount = web3.utils.toBN(this.state.amount);\n    var depositValue = web3.utils.toWei(this.state.amount,'ether');\n    // var minSpendingAmt = web3.utils.toBN(this.state.minSpendingAmt);\n    var minSpendingValue = web3.utils.toWei(this.state.minSpendingAmt,'ether');\n    // var maxSpendingAmt = web3.utils.toBN(this.state.maxSpendingAmt);\n    var maxSpendingValue = web3.utils.toWei(this.state.maxSpendingAmt,'ether');\n    const startDate = Math.round((new Date(this.state.startDate.toString())).getTime() / 1000);\n    const endDate = Math.round((new Date(this.state.endDate.toString())).getTime() / 1000);\n    // console.log(address);\n    \n    console.log(accounts[0]);\n    var that = this;\n\n    contractInstance.methods.mint(this.state.promoCode, weiValue, this.state.account, startDate, endDate, minSpendingValue, maxSpendingValue).send({from: accounts[0], value: depositValue})\n    .on(\"transactionHash\",function(hash){\n      alert('Promotion add success');\n      that.close();\n    })\n    .on(\"error\", function(error){\n      alert(error);\n    });\n\n  }\n\n  open() {\n    this.setState({showModal: true});\n  }\n  \n  close() {\n    this.setState({showModal: false});\n  }\n\n  constructor(props) {\n    super(props)\n    this.state = {promoCode: '', account: '', ether: '' ,startDate: '',endDate: '',minSpendingAmt: '',maxSpendingAmt: '',amount:''};\n    this.open = this.open.bind(this);\n    this.close = this.close.bind(this);\n  }\n\n\n  render(){\n      return (\n\n\n        <><div class=\"container mt-5\">\n          <div class=\"row\">\n            <div style={{ textAlign: 'right' }}>\n              {/* <button type=\"button\" class=\"btn btn-success\" data-bs-toggle=\"modal\" data-bs-target=\"#myModal1\">Add New Promotion</button> */}\n              <button type=\"button\" class=\"btn btn-success\" onClick={this.open}>Add New Promotion</button> \n            </div>\n            <h5>List of Promotions sponsored</h5>\n            <hr />\n            <br />\n            <table class=\"table table-striped\">\n              <thead>\n                <tr>\n                  <th></th>\n                  <th>Promotion Code</th>\n                  <th>Date Created</th>\n                  <th>Target account</th>\n                  <th>Starting Ether Balance</th>\n                  <th>Present Ether Balance</th>\n                  <th>Starting Date</th>\n                  <th>Ending Date</th>\n                  <th>Ether per account</th>\n                  <th>Min Coupon Txn Amount</th>\n                  <th>Max Coupon Txn Amount</th>\n                </tr>\n              </thead>\n              <tbody>\n                <tr>\n                  <th><i class=\"fa fa-credit-card\"></i></th>\n                  <td>Ethereum</td>\n                  <td>01/12/2021</td>\n                  <td>0x28cd15e5B23a8bA95Bb4660c3d305Fb18081c517</td>\n                  <td>500</td>\n                  <td>100</td>\n                  <td>15/01/2022</td>\n                  <td>20/01/2022</td>\n                  <td>2</td>\n                  <td>0.1</td>\n                  <td>0.5</td>\n                </tr>\n                <tr>\n                  <th><i class=\"fa fa-credit-card\"></i></th>\n                  <td>Doge</td>\n                  <td>01/12/2021</td>\n                  <td>0x28cd15e5B23a8bA95Bb4660c3d305Fb18081c511</td>\n                  <td>500</td>\n                  <td>100</td>\n                  <td>15/01/2022</td>\n                  <td>20/01/2022</td>\n                  <td>2</td>\n                  <td>0.1</td>\n                  <td>0.5</td>\n                </tr>\n                <tr>\n                  <th><i class=\"fa fa-window-close-o\"></i></th>\n                  <td>DogeElonMars</td>\n                  <td>01/11/2021</td>\n                  <td>0x28cd15e5B23a8bA95Bb4660c3d305Fb18081c510</td>\n                  <td>500</td>\n                  <td>0</td>\n                  <td>10/11/2021</td>\n                  <td>15/11/2021</td>\n                  <td>2</td>\n                  <td>0.1</td>\n                  <td>0.5</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        </div>\n        <Table1 testData={this.state.testData}/>\n      \n          <Modal className=\"myModal1\" \n          show={this.state.showModal} \n          onHide={this.close}\n          animation={true} \n      bsSize=\"small\">\n\n          <Modal.Header closeButton>\n      <Modal.Title>Modal title</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n          <table>\n                    <tr style={{ height: '45px' }}>\n                      <td style={{ width: '200px' }}>Promotion code:</td>\n                      <td><input type=\"text\" class=\"form-control\" name=\"txtPromoCode\" value={this.state.promoCode} onChange={this.toStorePromoCode} /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Target Account:</td>\n                      <td><input type=\"text\" class=\"form-control\" name=\"txtAccount\" value={this.state.account} onChange={this.toStoreAccount} /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Ether Deposited:</td>\n                      <td><input type=\"text\" class=\"form-control\" name=\"txtEtherDeposited\" value={this.state.amount} onChange={this.toStoreAmount}  /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Ether per account:</td>\n                      <td><input type=\"text\" class=\"form-control\" name=\"txtEtherPerAccount\" value={this.state.ether} onChange={this.toStoreEther}  /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Starting Date:</td>\n                      <td><input type=\"datetime-local\" class=\"form-control\" name=\"txtStartingDate\" value={this.state.startDate} onChange={this.toStoreStartDate} /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Ending Date:</td>\n                      <td><input type=\"datetime-local\" class=\"form-control\" name=\"txtEndingDate\" value={this.state.endDate} onChange={this.toStoreEndDate}  /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Min Spending Amount:</td>\n                      <td><input type=\"text\" class=\"form-control\" name=\"txtMinSpendingAmount\" value={this.state.minSpendingAmt} onChange={this.toStoreMinSpendingAmt} /></td>\n                    </tr>\n                    <tr style={{ height: '45px' }}>\n                      <td>Max Spending Amount:</td>\n                      <td><input type=\"text\" class=\"form-control\" name=\"txtMaxSpendingAmount\" value={this.state.maxSpendingAmt} onChange={this.toStoreMaxSpendingAmt}  /></td>\n                    </tr>\n                  </table>\n          </Modal.Body>\n\n          <Modal.Footer>\n            <button type=\"button\" class=\"btn btn-success\" onClick={this.CreateNewPromotion} id=\"btn_CreateNewPromotion\">Add New Promotion</button>\n            <button type=\"button\" class=\"btn btn-danger\" onClick={this.close}>Close</button>\n          </Modal.Footer>         \n        </Modal> \n\n          </>\n\n      );\n  }\n}\n\nexport default App;\n\n"]},"metadata":{},"sourceType":"module"}